(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/view/common/single-page/message/index.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";var n=t("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var a=n(t("./node_modules/@babel/runtime/helpers/objectSpread.js")),i=t("./node_modules/vuex/dist/vuex.esm.js"),o={unread:"messageUnreadList",readed:"messageReadedList",trash:"messageTrashList"},d={name:"message_page",data:function(){return{listLoading:!0,contentLoading:!1,currentMessageType:"unread",messageContent:"",showingMsgItem:{}}},computed:(0,a.default)({},(0,i.mapState)({messageUnreadList:function(e){return e.user.messageUnreadList},messageReadedList:function(e){return e.user.messageReadedList},messageTrashList:function(e){return e.user.messageTrashList},messageList:function(){return this[o[this.currentMessageType]]},titleClass:function(){return{"not-unread-list":"unread"!==this.currentMessageType}}}),(0,i.mapGetters)(["messageUnreadCount","messageReadedCount","messageTrashCount"])),methods:(0,a.default)({},(0,i.mapMutations)([]),(0,i.mapActions)(["getContentByMsgId","getMessageList","hasRead","removeReaded","restoreTrash"]),{stopLoading:function(e){this[e]=!1},handleSelect:function(e){this.currentMessageType=e},handleView:function(e){var s=this;this.contentLoading=!0,this.getContentByMsgId({msg_id:e}).then(function(t){s.messageContent=t;var n=s.messageList.find(function(s){return s.msg_id===e});n&&(s.showingMsgItem=n),"unread"===s.currentMessageType&&s.hasRead({msg_id:e}),s.stopLoading("contentLoading")}).catch(function(){s.stopLoading("contentLoading")})},removeMsg:function(e){e.loading=!0;var s=e.msg_id;"readed"===this.currentMessageType?this.removeReaded({msg_id:s}):this.restoreTrash({msg_id:s})}}),mounted:function(){var e=this;this.listLoading=!0,this.getMessageList().then(function(){return e.stopLoading("listLoading")}).catch(function(){return e.stopLoading("listLoading")})}};s.default=d},"./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/view/common/single-page/message/index.vue?vue&type=style&index=0&lang=less&":function(e,s,t){},"./src/view/common/single-page/message/index.vue":function(e,s,t){"use strict";t.r(s);var n=t("./src/view/common/single-page/message/index.vue?vue&type=template&id=704fbf6c&"),a=t("./src/view/common/single-page/message/index.vue?vue&type=script&lang=js&");for(var i in a)"default"!==i&&function(e){t.d(s,e,function(){return a[e]})}(i);t("./src/view/common/single-page/message/index.vue?vue&type=style&index=0&lang=less&");var o=t("./node_modules/vue-loader/lib/runtime/componentNormalizer.js"),d=Object(o.a)(a.default,n.render,n.staticRenderFns,!1,null,null,null),r=t("./node_modules/vue-hot-reload-api/dist/index.js");r.install(t("./node_modules/vue/dist/vue.esm.js")),r.compatible&&(e.hot.accept(),e.hot.data?r.reload("704fbf6c",d.options):r.createRecord("704fbf6c",d.options),e.hot.accept("./src/view/common/single-page/message/index.vue?vue&type=template&id=704fbf6c&",function(e){n=t("./src/view/common/single-page/message/index.vue?vue&type=template&id=704fbf6c&"),r.rerender("704fbf6c",{render:n.render,staticRenderFns:n.staticRenderFns})}.bind(this))),d.options.__file="src/view/common/single-page/message/index.vue",s.default=d.exports},"./src/view/common/single-page/message/index.vue?vue&type=script&lang=js&":function(e,s,t){"use strict";t.r(s);var n=t("./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/view/common/single-page/message/index.vue?vue&type=script&lang=js&"),a=t.n(n);for(var i in n)"default"!==i&&function(e){t.d(s,e,function(){return n[e]})}(i);s.default=a.a},"./src/view/common/single-page/message/index.vue?vue&type=style&index=0&lang=less&":function(e,s,t){"use strict";var n=t("./node_modules/mini-css-extract-plugin/dist/loader.js?!./node_modules/css-loader/dist/cjs.js!./node_modules/vue-loader/lib/loaders/stylePostLoader.js!./node_modules/postcss-loader/src/index.js!./node_modules/less-loader/dist/cjs.js?!./node_modules/vue-loader/lib/index.js?!./src/view/common/single-page/message/index.vue?vue&type=style&index=0&lang=less&");t.n(n).a},"./src/view/common/single-page/message/index.vue?vue&type=template&id=704fbf6c&":function(e,s,t){"use strict";t.r(s);var n=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("Card",{attrs:{shadow:""}},[t("div",[t("div",{staticClass:"message-page-con message-category-con"},[t("Menu",{attrs:{width:"auto","active-name":"unread"},on:{"on-select":e.handleSelect}},[t("MenuItem",{attrs:{name:"unread"}},[t("span",{staticClass:"category-title"},[e._v("未读消息")]),t("Badge",{staticStyle:{"margin-left":"10px"},attrs:{count:e.messageUnreadCount}})],1),e._v(" "),t("MenuItem",{attrs:{name:"readed"}},[t("span",{staticClass:"category-title"},[e._v("已读消息")]),t("Badge",{staticStyle:{"margin-left":"10px"},attrs:{"class-name":"gray-dadge",count:e.messageReadedCount}})],1),e._v(" "),t("MenuItem",{attrs:{name:"trash"}},[t("span",{staticClass:"category-title"},[e._v("回收站")]),t("Badge",{staticStyle:{"margin-left":"10px"},attrs:{"class-name":"gray-dadge",count:e.messageTrashCount}})],1)],1)],1),e._v(" "),t("div",{staticClass:"message-page-con message-list-con"},[e.listLoading?t("Spin",{attrs:{fix:"",size:"large"}}):e._e(),e._v(" "),t("Menu",{class:e.titleClass,attrs:{width:"auto","active-name":""},on:{"on-select":e.handleView}},e._l(e.messageList,function(s){return t("MenuItem",{key:"msg_"+s.msg_id,attrs:{name:s.msg_id}},[t("div",[t("p",{staticClass:"msg-title"},[e._v(e._s(s.title))]),e._v(" "),t("Badge",{attrs:{status:"default",text:s.create_time}}),e._v(" "),t("Button",{directives:[{name:"show",rawName:"v-show",value:"unread"!==e.currentMessageType,expression:"currentMessageType !== 'unread'"}],staticStyle:{float:"right","margin-right":"20px"},style:{display:s.loading?"inline-block !important":""},attrs:{loading:s.loading,size:"small",icon:"readed"===e.currentMessageType?"md-trash":"md-redo",title:"readed"===e.currentMessageType?"删除":"还原",type:"text"},nativeOn:{click:function(t){return t.stopPropagation(),e.removeMsg(s)}}})],1)])}),1)],1),e._v(" "),t("div",{staticClass:"message-page-con message-view-con"},[e.contentLoading?t("Spin",{attrs:{fix:"",size:"large"}}):e._e(),e._v(" "),t("div",{staticClass:"message-view-header"},[t("h2",{staticClass:"message-view-title"},[e._v(e._s(e.showingMsgItem.title))]),e._v(" "),t("time",{staticClass:"message-view-time"},[e._v(e._s(e.showingMsgItem.create_time))])]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.messageContent)}})],1)])])},a=[];n._withStripped=!0,t.d(s,"render",function(){return n}),t.d(s,"staticRenderFns",function(){return a})}}]);